# 同源策略

简单的说：
> 限制一个源加载的文档或者脚本与来自另一个源的资源进行交互

什么时候不是同一个源？
>协议、端口、域名任何一项不一样就是非同源

哪些方面受到限制？

>1. cookie,LocalStorage,IndexDB不能交换
>2. DOM无法获得
>3. 禁止Ajax请求

## 主要的同源解决方案

### 1. JSONP

主要原理：利用<script\>标签可以跨域加载数据的漏洞
如何实现：

1. 前端页面动态生成一个<script\>标签，其中src字符串文本是跨域的一个源地址，必须会带上跨域请求成功之后的本地调用的函数名callback，可能还带了一些需要传递的参数。
2. 浏览器读到这里的时候向这个地址发送请求读取脚本
3. 这个跨域地址后台有个服务器，配置好了收到非同源请求时要做的操作，读取请求中带的调用函数名，取出其中带的参数，做一些约定好的操作，将需要返回的值和回调函数名以字符串的形式拼接成一个可以被前端浏览器运行的js代码返回给前端
4. 前端此时读到了<script\>标签的内容，是一条可以执行的js语句，一个类似callback(param)的语句，浏览器直接执行函数调用，这样就完成了一次跨域请求。

